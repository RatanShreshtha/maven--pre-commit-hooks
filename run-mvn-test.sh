#!/bin/bash

cat <<"EOF"
 ____                        _                 _____             _
|  _ \  _   _  _ __   _ __  (_) _ __    __ _  |_   _|  ___  ___ | |_  ___
| |_) || | | || '_ \ | '_ \ | || '_ \  / _` |   | |   / _ \/ __|| __|/ __|
|  _ < | |_| || | | || | | || || | | || (_| |   | |  |  __/\__ \| |_ \__ \  _  _  _
|_| \_\ \__,_||_| |_||_| |_||_||_| |_| \__, |   |_|   \___||___/ \__||___/ (_)(_)(_)
                                       |___/

EOF

mvn clean test -DminimumCoverage=0.90

rc=$?

if [[ $rc == 0 ]]; then
  cat <<"EOF"
 _____             _          ____
|_   _|  ___  ___ | |_  ___  / ___|  _   _   ___   ___   ___  ___  ___
  | |   / _ \/ __|| __|/ __| \___ \ | | | | / __| / __| / _ \/ __|/ __|
  | |  |  __/\__ \| |_ \__ \  ___) || |_| || (__ | (__ |  __/\__ \\__ \ _
  |_|   \___||___/ \__||___/ |____/  \__,_| \___| \___| \___||___/|___/(_)


EOF
  exit $rc
else
  cat <<"EOF"
 _____             _          _____         _  _            _
|_   _|  ___  ___ | |_  ___  |  ___|  __ _ (_)| |  ___   __| |
  | |   / _ \/ __|| __|/ __| | |_    / _` || || | / _ \ / _` |
  | |  |  __/\__ \| |_ \__ \ |  _|  | (_| || || ||  __/| (_| | _
  |_|   \___||___/ \__||___/ |_|     \__,_||_||_| \___| \__,_|(_)


EOF
  exit $rc
fi
